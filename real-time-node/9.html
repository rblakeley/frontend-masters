<!doctype html>
<html>
<title>9.html</title>
<h1>9.html</h1>
<p id="hello"></p>
<input type="text" id="new_message">
<button type="submit" id="submit">Submit</button>
<div id="messages"></div>
<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io.connect('/');

    socket.on('connect', function () {
        console.log('connect');
    });

    socket.on('disconnect', function () {
        console.log('disconnect');
    });

    socket.on('hello', function (num) {
        document.getElementById('hello').innerHTML = "Hello world: " + num;
    });

    var newMessage = document.getElementById('new_message'),
        submit = document.getElementById('submit');

    submit.onclick = function (event) {
        var text = newMessage.value;

        socket.emit('new message', text);
    }
</script>
</html>